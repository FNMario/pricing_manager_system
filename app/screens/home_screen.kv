#:kivy 2.2.1
#:include screens/widgets/widgets_styles.kv
#:import CategoryButton screens.widgets.categorybutton
#:import IconButton screens.widgets.iconbutton
#:import dp kivy.metrics.dp


<HomeWindow>:
    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        # Categories
        BoxLayout:
            id: categories_layout
            orientation: 'vertical'
            size_hint: None, None
            size: dp(280), root.size[1]
            pos_hint: {'center_y':.5, 'left':1}
            padding: 0, 0, 0, dp(10)
            spacing: dp(5)
            canvas.before:
                Color:
                    rgba: (1, 1, 1, 0.5)
                Rectangle:
                    size: dp(2), self.size[1]
                    pos: self.size[0]-dp(2), self.pos[1]
            Image:
                id: img_logo
                source: './assets/images/logo_big.png'
                fit_mode: 'contain'
                size_hint_y: None
                height: dp(130)
            # Buy
            CategoryButton:
                id: btn_buy
                text: "Buy"
                icon: './assets/icons/shopping_cart.png'
                screen_name: "buy"
                on_press: root.change_category(self)
            # Budgets
            CategoryButton:
                id: btn_budgets
                text: "Budgets"
                icon: './assets/icons/budget_64x64.png'
                screen_name: "budgets"
                on_press: root.change_category(self)
            # Print tables
            CategoryButton:
                id: btn_print_tables
                text: "Print tables"
                icon: './assets/icons/printer_64x64.png'
                screen_name: "print"
                on_press: root.change_category(self)
            # Manage Prices
            CategoryButton:
                id: btn_manage_prices
                text: "Manage Prices"
                icon: './assets/icons/price-edit_64x64.png'
                screen_name: "manage"
                on_press: root.change_category(self)
            # Group Raise
            CategoryButton:
                id: btn_group_raise
                text: "Group Raise"
                icon: './assets/icons/surcharges.png'
                screen_name: "group"
                on_press: root.change_category(self)
            Label:
                id: spc_categories
            # Settings
            CategoryButton:
                id: btn_settings
                text: "Settings"
                icon: './assets/icons/settings_1.png'
                screen_name: "settings"
                on_press: root.change_category(self)
            # Log out
            CategoryButton:
                id: btn_log_out
                text: "Log out"
                icon: './assets/icons/log_out.png'
                on_release: root.log_out()
        # Home
        BoxLayout:
            orientation: 'vertical'
            # Title bar
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(25)
                padding: dp(10), dp(2), dp(2), dp(2)
                spacing: dp(4)
                canvas.before:
                    Color:
                        rgba: (1, 1, 1, 0.05)
                    Rectangle:
                        size: self.size
                        pos: self.pos
                Label:
                    id: lbl_title
                    text: ""
                    halign: 'left'
                    valign: 'middle'
                    text_size: self.size
                    font_size: 16
                IconButton:
                    source: './assets/icons/minus.png'
                    size: dp(14), dp(14)
                    on_release: root.minimize()
                IconButton:
                    source: './assets/icons/square_2.png'
                    size: dp(14), dp(14)
                    on_release: root.maximize()
                IconButton:
                    source: './assets/icons/cross_bold.png'
                    size: dp(14), dp(14)
                    on_release: app.stop()
            # Screen
            ScreenManager:
                id: home_screen_manager
                Screen:
                    name: "none"
                Buy:
                    name: "buy"
                Budgets:
                    name: "budgets"
                PrintTables:
                    name: "print"
                ManagePrices:
                    name: "manage"
                GroupRaise:
                    name: "group"
                SettingsScreen:
                    name: "settings"
